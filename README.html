<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>MAS Geospatial Tools - Installation Guide</title>
  <style>
    /* From extension vscode.github */
    /*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

    .vscode-dark img[src$=\#gh-light-mode-only],
    .vscode-light img[src$=\#gh-dark-mode-only],
    .vscode-high-contrast:not(.vscode-high-contrast-light) img[src$=\#gh-light-mode-only],
    .vscode-high-contrast-light img[src$=\#gh-dark-mode-only] {
      display: none;
    }
  </style>

  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
      font-size: 14px;
      line-height: 1.6;
    }
  </style>
  <style>
    .task-list-item {
      list-style-type: none;
    }

    .task-list-item-checkbox {
      margin-left: -20px;
      vertical-align: middle;
      pointer-events: none;
    }
  </style>
  <style>
    :root {
      --color-note: #0969da;
      --color-tip: #1a7f37;
      --color-warning: #9a6700;
      --color-severe: #bc4c00;
      --color-caution: #d1242f;
      --color-important: #8250df;
    }
  </style>
  <style>
    @media (prefers-color-scheme: dark) {
      :root {
        --color-note: #2f81f7;
        --color-tip: #3fb950;
        --color-warning: #d29922;
        --color-severe: #db6d28;
        --color-caution: #f85149;
        --color-important: #a371f7;
      }
    }
  </style>
  <style>
    .markdown-alert {
      padding: 0.5rem 1rem;
      margin-bottom: 16px;
      color: inherit;
      border-left: .25em solid #888;
    }

    .markdown-alert>:first-child {
      margin-top: 0
    }

    .markdown-alert>:last-child {
      margin-bottom: 0
    }

    .markdown-alert .markdown-alert-title {
      display: flex;
      font-weight: 500;
      align-items: center;
      line-height: 1
    }

    .markdown-alert .markdown-alert-title .octicon {
      margin-right: 0.5rem;
      display: inline-block;
      overflow: visible !important;
      vertical-align: text-bottom;
      fill: currentColor;
    }

    .markdown-alert.markdown-alert-note {
      border-left-color: var(--color-note);
    }

    .markdown-alert.markdown-alert-note .markdown-alert-title {
      color: var(--color-note);
    }

    .markdown-alert.markdown-alert-important {
      border-left-color: var(--color-important);
    }

    .markdown-alert.markdown-alert-important .markdown-alert-title {
      color: var(--color-important);
    }

    .markdown-alert.markdown-alert-warning {
      border-left-color: var(--color-warning);
    }

    .markdown-alert.markdown-alert-warning .markdown-alert-title {
      color: var(--color-warning);
    }

    .markdown-alert.markdown-alert-tip {
      border-left-color: var(--color-tip);
    }

    .markdown-alert.markdown-alert-tip .markdown-alert-title {
      color: var(--color-tip);
    }

    .markdown-alert.markdown-alert-caution {
      border-left-color: var(--color-caution);
    }

    .markdown-alert.markdown-alert-caution .markdown-alert-title {
      color: var(--color-caution);
    }
  </style>

</head>

<body class="vscode-body vscode-light">
  <h1 id="mas-geospatial-tools---installation-guide">MAS Geospatial Tools - Installation Guide</h1>
  <h2 id="overview">Overview</h2>
  <p><strong>MAS Geospatial Tools</strong> is a native Python QGIS plugin providing 177 advanced hydrological and
    geomorphometric analysis tools.</p>
  <ul>
    <li><strong>NO binary dependencies</strong> - Pure Python implementation</li>
    <li><strong>Fast</strong> - Optimized NumPy/SciPy algorithms</li>
    <li><strong>Cross-platform</strong> - Windows, Linux, macOS</li>
  </ul>
  <h2 id="requirements">Requirements</h2>
  <h3 id="qgis-version">QGIS Version</h3>
  <ul>
    <li>QGIS 3.16 or higher</li>
  </ul>
  <h3 id="python-packages">Python Packages</h3>
  <p>All packages are typically included with QGIS:</p>
  <ul>
    <li><code>numpy &gt;= 1.19</code></li>
    <li><code>scipy &gt;= 1.5</code></li>
    <li><code>gdal &gt;= 3.0</code></li>
  </ul>
  <h2 id="installation">Installation</h2>
  <h3 id="method-1-qgis-plugin-manager-recommended">Method 1: QGIS Plugin Manager (Recommended)</h3>
  <ol>
    <li>Open QGIS</li>
    <li>Go to <strong>Plugins → Manage and Install Plugins</strong></li>
    <li>Search for &quot;MAS Geospatial Tools&quot;</li>
    <li>Click <strong>Install Plugin</strong></li>
  </ol>
  <h3 id="method-2-manual-installation">Method 2: Manual Installation</h3>
  <ol>
    <li>Download the plugin ZIP file</li>
    <li>Extract to QGIS plugins directory:
      <ul>
        <li><strong>Windows</strong>:
          <code>C:\Users\&lt;username&gt;\AppData\Roaming\QGIS\QGIS3\profiles\default\python\plugins\</code></li>
        <li><strong>Linux</strong>: <code>~/.local/share/QGIS/QGIS3/profiles/default/python/plugins/</code></li>
        <li><strong>macOS</strong>:
          <code>~/Library/Application Support/QGIS/QGIS3/profiles/default/python/plugins/</code></li>
      </ul>
    </li>
    <li>Restart QGIS</li>
    <li>Enable plugin in <strong>Plugins → Manage and Install Plugins → Installed</strong></li>
  </ol>
  <h3 id="method-3-from-source-development">Method 3: From Source (Development)</h3>
  <ol>
    <li>
      <p>Clone repository
        git clone <a
          href="https://github.com/Mirjan-Ali-Sha/mas_geospatial_tools.git">https://github.com/Mirjan-Ali-Sha/mas_geospatial_tools.git</a>
      </p>
    </li>
    <li>
      <p>Navigate to QGIS plugins directory
        cd ~/.local/share/QGIS/QGIS3/profiles/default/python/plugins/</p>
    </li>
    <li>
      <p>Create symbolic link
        ln -s /path/to/mas_geospatial_tools mas_geospatial_tools</p>
    </li>
    <li>
      <p>Restart QGIS</p>
    </li>
  </ol>
  <h2 id="verification">Verification</h2>
  <ol>
    <li>Open QGIS</li>
    <li>Go to <strong>Processing → Toolbox</strong></li>
    <li>Look for <strong>MAS Geospatial Tools</strong> provider</li>
    <li>You should see 3 groups with 177 total tools:
      <ul>
        <li>Geomorphometric Analysis (92 tools)</li>
        <li>Hydrological Analysis (61 tools)</li>
        <li>Stream Network Analysis (24 tools)</li>
      </ul>
    </li>
  </ol>
  <h2 id="usage-examples">Usage Examples</h2>
  <h3 id="example-1-calculate-slope">Example 1: Calculate Slope</h3>
  <h4 id="via-processing-toolbox">Via Processing Toolbox</h4>
  <ol>
    <li>
      <p>Open Processing Toolbox</p>
    </li>
    <li>
      <p>Navigate to: MAS Geospatial Tools → Geomorphometric Analysis → Slope</p>
    </li>
    <li>
      <p>Select input DEM</p>
    </li>
    <li>
      <p>Choose units (degrees/percent)</p>
    </li>
    <li>
      <p>Run</p>
    </li>
  </ol>
  <h4 id="via-python-console">Via Python Console</h4>
  <pre><code>from qgis import processing

processing.run(&quot;mas_geospatial:slope&quot;, {
'INPUT': '/path/to/dem.tif',
'UNITS': 0, # 0=degrees, 1=percent
'Z_FACTOR': 1.0,
'OUTPUT': '/path/to/slope.tif'
})
</code></pre>
  <h3 id="example-2-watershed-delineation">Example 2: Watershed Delineation</h3>
  <p>processing.run(&quot;mas_geospatial:watershed_delineation&quot;, {
    'INPUT_DEM': '/path/to/dem.tif',
    'INPUT_POUR_POINTS': '/path/to/points.gpkg',
    'FILL_DEPRESSIONS': True,
    'OUTPUT_WATERSHEDS': '/path/to/watersheds.tif',
    'OUTPUT_FLOW_DIR': '/path/to/flow_dir.tif'
    })</p>
  <h3 id="example-3-stream-network-extraction">Example 3: Stream Network Extraction</h3>
  <h4 id="step-1-fill-depressions">Step 1: Fill depressions</h4>
  <p>filled = processing.run(&quot;mas_geospatial:fill_depressions&quot;, {
    'INPUT': dem_path,
    'OUTPUT': 'memory:'
    })['OUTPUT']</p>
  <h4 id="step-2-flow-accumulation">Step 2: Flow accumulation</h4>
  <p>flow_acc = processing.run(&quot;mas_geospatial:d8_flow_accumulation&quot;, {
    'INPUT_DEM': filled,
    'FILL_DEPRESSIONS': False,
    'OUTPUT_FLOW_ACC': 'memory:'
    })['OUTPUT_FLOW_ACC']</p>
  <h4 id="step-3-extract-streams">Step 3: Extract streams</h4>
  <p>streams = processing.run(&quot;mas_geospatial:extract_streams&quot;, {
    'INPUT_FLOW_ACC': flow_acc,
    'THRESHOLD': 1000,
    'OUTPUT': '/path/to/streams.tif'
    })</p>
  <h2 id="performance-tips">Performance Tips</h2>
  <h3 id="for-large-dems">For Large DEMs</h3>
  <ol>
    <li><strong>Use compressed formats</strong>: GeoTIFF with LZW compression</li>
    <li><strong>Tile processing</strong>: Plugin automatically processes in blocks</li>
    <li><strong>Adequate RAM</strong>: 8GB+ recommended for DEMs &gt;1GB</li>
    <li><strong>SSD storage</strong>: Faster I/O operations</li>
  </ol>
  <h3 id="optimization-settings">Optimization Settings</h3>
  <h4 id="increase-block-size-for-faster-processing-more-ram-usage">Increase block size for faster processing (more RAM
    usage)</h4>
  <ol>
    <li>Edit core/array_utils.py:
      block_size = 1024 # Default is 512</li>
  </ol>
  <h2 id="detailed-tool-list-177-tools">Detailed Tool List (177 Tools)</h2>
  <table>
    <thead>
      <tr>
        <th>Group</th>
        <th>Our Implemented Tool</th>
        <th>Function Count</th>
        <th>Mapped Functions</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Geomorphometric Analysis</td>
        <td>HillshadeAlgorithm</td>
        <td>4</td>
        <td>Hillshade, MultidirectionalHillshade, ShadowImage, HypsometricallyTintedHillshade</td>
      </tr>
      <tr>
        <td>Geomorphometric Analysis</td>
        <td>SlopeAlgorithm</td>
        <td>2</td>
        <td>Slope, StandardDeviationOfSlope</td>
      </tr>
      <tr>
        <td>Geomorphometric Analysis</td>
        <td>AspectAlgorithm</td>
        <td>3</td>
        <td>Aspect, CircularVarianceOfAspect, RelativeAspect</td>
      </tr>
      <tr>
        <td>Geomorphometric Analysis</td>
        <td>CurvatureAlgorithm</td>
        <td>19</td>
        <td>PlanCurvature, ProfileCurvature, TangentialCurvature, MeanCurvature, GaussianCurvature, TotalCurvature,
          MaximalCurvature, MinimalCurvature, HorizontalExcessCurvature, VerticalExcessCurvature, DifferenceCurvature,
          AccumulationCurvature, Curvedness, Unsphericity, Rotor, ShapeIndex, RingCurvature, MultiscaleCurvatures,
          Profile</td>
      </tr>
      <tr>
        <td>Geomorphometric Analysis</td>
        <td>RoughnessAlgorithm</td>
        <td>5</td>
        <td>RuggednessIndex, MultiscaleRoughness, EdgeDensity, SurfaceAreaRatio, MultiscaleRoughnessSignature</td>
      </tr>
      <tr>
        <td>Geomorphometric Analysis</td>
        <td>TPIAlgorithm</td>
        <td>3</td>
        <td>RelativeTopographicPosition, MultiscaleTopographicPositionImage, TopographicPositionAnimation</td>
      </tr>
      <tr>
        <td>Geomorphometric Analysis</td>
        <td>FeatureDetectionAlgorithm</td>
        <td>6</td>
        <td>FindRidges, BreaklineMapping, EmbankmentMapping, MapOffTerrainObjects, RemoveOffTerrainObjects, Geomorphons
        </td>
      </tr>
      <tr>
        <td>Geomorphometric Analysis</td>
        <td>HypsometricAnalysisAlgorithm</td>
        <td>2</td>
        <td>HypsometricAnalysis, LocalHypsometricAnalysis</td>
      </tr>
      <tr>
        <td>Geomorphometric Analysis</td>
        <td>VisibilityAlgorithm</td>
        <td>6</td>
        <td>Viewshed, VisibilityIndex, HorizonAngle, TimeInDaylight, ShadowAnimation, TopoRender</td>
      </tr>
      <tr>
        <td>Geomorphometric Analysis</td>
        <td>DirectionalAnalysisAlgorithm</td>
        <td>6</td>
        <td>DirectionalRelief, ExposureTowardsWindFlux, FetchAnalysis, AverageNormalVectorAngularDeviation,
          MaxAnisotropyDev, MaxAnisotropyDevSignature</td>
      </tr>
      <tr>
        <td>Geomorphometric Analysis</td>
        <td>OpennessAlgorithm</td>
        <td>3</td>
        <td>Openness, SphericalStdDevOfNormals, MultiscaleStdDevNormalsSignature</td>
      </tr>
      <tr>
        <td>Geomorphometric Analysis</td>
        <td>MultiscaleAnalysisAlgorithm</td>
        <td>3</td>
        <td>MultiscaleElevationPercentile, MultiscaleStdDevNormals, GaussianScaleSpace</td>
      </tr>
      <tr>
        <td>Geomorphometric Analysis</td>
        <td>StatisticalAlgorithms</td>
        <td>13</td>
        <td>LocalQuadraticRegression, FeaturePreservingSmoothing, SmoothVegetationResidual, DevFromMeanElev,
          DiffFromMeanElev, MaxDifferenceFromMean, MaxElevationDeviation, PercentElevRange, ElevRelativeToMinMax,
          ElevRelativeToWatershedMinMax, PennockLandformClass, GeneratingFunction, MaxElevDevSignature</td>
      </tr>
      <tr>
        <td>Geomorphometric Analysis</td>
        <td>WetnessAlgorithm</td>
        <td>1</td>
        <td>WetnessIndex</td>
      </tr>
      <tr>
        <td>Hydrological Analysis</td>
        <td>D8FlowDirectionAlgorithm</td>
        <td>1</td>
        <td>D8Pointer</td>
      </tr>
      <tr>
        <td>Hydrological Analysis</td>
        <td>D8FlowAccumulationAlgorithm</td>
        <td>3</td>
        <td>D8FlowAccumulation, D8MassFlux, FlowAccumulationFullWorkflow</td>
      </tr>
      <tr>
        <td>Hydrological Analysis</td>
        <td>WatershedDelineationAlgorithm</td>
        <td>5</td>
        <td>Watershed, Basins, Subbasins, Isobasins, StochasticDepressionAnalysis</td>
      </tr>
      <tr>
        <td>Hydrological Analysis</td>
        <td>DepressionHandlingAlgorithm</td>
        <td>10</td>
        <td>FillDepressions, BreachDepressions, BreachDepressionsLeastCost, FillSingleCellPits, BreachSingleCellPits,
          FillBurn, FillDepressionsPlanchonAndDarboux, FillDepressionsWangAndLiu, DemVoidFilling, FillMissingData</td>
      </tr>
      <tr>
        <td>Geomorphometric Analysis</td>
        <td>FlowIndicesAlgorithm</td>
        <td>2</td>
        <td>StreamPowerIndex, SedimentTransportIndex</td>
      </tr>
      <tr>
        <td>Hydrological Analysis</td>
        <td>FlowRoutingAlgorithm</td>
        <td>11</td>
        <td>DInfPointer, DInfFlowAccumulation, DInfMassFlux, MDInfFlowAccumulation, FD8Pointer, FD8FlowAccumulation,
          Rho8Pointer, Rho8FlowAccumulation, QinFlowAccumulation, QuinnFlowAccumulation, PilesjoHasan</td>
      </tr>
      <tr>
        <td>Hydrological Analysis</td>
        <td>FlowDistanceAlgorithm</td>
        <td>4</td>
        <td>DownslopeDistanceToStream, ElevationAboveStream, ElevationAboveStreamEuclidean, DownslopeIndex</td>
      </tr>
      <tr>
        <td>Hydrological Analysis</td>
        <td>BasinAnalysisAlgorithm</td>
        <td>2</td>
        <td>UnnestBasins, StrahlerOrderBasins</td>
      </tr>
      <tr>
        <td>Hydrological Analysis</td>
        <td>FlowPathStatisticsAlgorithm</td>
        <td>12</td>
        <td>AverageFlowpathSlope, AverageUpslopeFlowpathLength, MaxUpslopeFlowpathLength, FlowLengthDiff,
          TraceDownslopeFlowpaths, NumInflowingNeighbours, NumDownslopeNeighbours, NumUpslopeNeighbours,
          LongestFlowpath, MaxDownslopeElevChange, MinDownslopeElevChange, MaxUpslopeElevChange</td>
      </tr>
      <tr>
        <td>Hydrological Analysis</td>
        <td>SinkAnalysisAlgorithm</td>
        <td>4</td>
        <td>Sink, DepthInSink, UpslopeDepressionStorage, ImpoundmentSizeIndex</td>
      </tr>
      <tr>
        <td>Hydrological Analysis</td>
        <td>HydroEnforcementAlgorithm</td>
        <td>4</td>
        <td>BurnStreamsAtRoads, RaiseWalls, FlattenLakes, InsertDams</td>
      </tr>
      <tr>
        <td>Hydrological Analysis</td>
        <td>SnapPourPointsAlgorithm</td>
        <td>2</td>
        <td>SnapPourPoints, JensonSnapPourPoints</td>
      </tr>
      <tr>
        <td>Hydrological Analysis</td>
        <td>FlowLengthAlgorithm</td>
        <td>2</td>
        <td>DownslopeFlowpathLength, MaxUpslopeValue</td>
      </tr>
      <tr>
        <td>Hydrological Analysis</td>
        <td>DemQualityAlgorithm</td>
        <td>3</td>
        <td>FindNoFlowCells, EdgeContamination, FindParallelFlow</td>
      </tr>
      <tr>
        <td>Hydrological Analysis</td>
        <td>HillslopesAlgorithm</td>
        <td>1</td>
        <td>Hillslopes</td>
      </tr>
      <tr>
        <td>Hydrological Analysis</td>
        <td>FloodOrderAlgorithm</td>
        <td>1</td>
        <td>FloodOrder</td>
      </tr>
      <tr>
        <td>Hydrological Analysis</td>
        <td>HydrologicConnectivityAlgorithm</td>
        <td>3</td>
        <td>HydrologicConnectivity, DepthToWater, LowPointsOnHeadwaterDivides</td>
      </tr>
      <tr>
        <td>Stream Network Analysis</td>
        <td>ExtractStreamsAlgorithm</td>
        <td>3</td>
        <td>ExtractStreams, RasterizeStreams, RiverCenterlines</td>
      </tr>
      <tr>
        <td>Stream Network Analysis</td>
        <td>StreamOrderingAlgorithm</td>
        <td>5</td>
        <td>StrahlerStreamOrder, ShreveStreamMagnitude, HortonStreamOrder, HackStreamOrder, TopologicalStreamOrder</td>
      </tr>
      <tr>
        <td>Stream Network Analysis</td>
        <td>StreamLinkAlgorithm</td>
        <td>5</td>
        <td>StreamLinkIdentifier, StreamLinkLength, StreamLinkSlope, StreamLinkClass, StreamSlopeContinuous</td>
      </tr>
      <tr>
        <td>Stream Network Analysis</td>
        <td>StreamNetworkAnalysisAlgorithm</td>
        <td>6</td>
        <td>DistanceToOutlet, FarthestChannelHead, FindMainStem, TributaryIdentifier, LengthOfUpstreamChannels,
          MaxBranchLength</td>
      </tr>
      <tr>
        <td>Stream Network Analysis</td>
        <td>VectorStreamNetworkAlgorithm</td>
        <td>3</td>
        <td>RasterStreamsToVector, VectorStreamNetworkAnalysis, RepairStreamVectorTopology</td>
      </tr>
      <tr>
        <td>Stream Network Analysis</td>
        <td>StreamCleaningAlgorithm</td>
        <td>1</td>
        <td>RemoveShortStreams</td>
      </tr>
      <tr>
        <td>Stream Network Analysis</td>
        <td>ValleyExtractionAlgorithm</td>
        <td>1</td>
        <td>ExtractValleys</td>
      </tr>
      <tr>
        <td>Stream Network Analysis</td>
        <td>LongProfileAlgorithm</td>
        <td>2</td>
        <td>LongProfile, LongProfileFromPoints</td>
      </tr>
      <tr>
        <td>Geomorphometric Analysis</td>
        <td>ContourAlgorithm</td>
        <td>2</td>
        <td>ContoursFromPoints, ContoursFromRaster</td>
      </tr>
      <tr>
        <td>Geomorphometric Analysis</td>
        <td>PlottingAlgorithm</td>
        <td>2</td>
        <td>SlopeVsAspectPlot, SlopeVsElevationPlot</td>
      </tr>
      <tr>
        <td>Geomorphometric Analysis</td>
        <td>AssessRouteAlgorithm</td>
        <td>1</td>
        <td>AssessRoute</td>
      </tr>
    </tbody>
  </table>
  <h2 id="troubleshooting">Troubleshooting</h2>
  <h3 id="plugin-doesnt-appear">Plugin doesn't appear</h3>
  <h4 id="check-plugin-is-enabled">Check plugin is enabled</h4>
  <p>from qgis.utils import plugins
    print('mas_geospatial_tools' in plugins)</p>
  <h4 id="check-for-errors">Check for errors</h4>
  <p>import qgis
    qgis.utils.iface.messageBar().pushMessage(&quot;Test&quot;, &quot;Plugin check&quot;)</p>
  <h3 id="import-errors">Import errors</h3>
  <h4 id="verify-dependencies-in-qgis-python-console">Verify dependencies in QGIS Python console</h4>
  <pre><code>import numpy
import scipy
import gdal

print(f&quot;NumPy: {numpy.version}&quot;)
print(f&quot;SciPy: {scipy.version}&quot;)
print(f&quot;GDAL: {gdal.version}&quot;)
</code></pre>
  <h3 id="performance-issues">Performance issues</h3>
  <ul>
    <li>Reduce input raster size (clip to AOI)</li>
    <li>Close unnecessary QGIS layers</li>
    <li>Increase available RAM</li>
    <li>Use SSD for temp files</li>
  </ul>
  <h2 id="support">Support</h2>
  <ul>
    <li><strong>Issues</strong>: <a
        href="https://github.com/Mirjan-Ali-Sha/mas_geospatial_tools/issues">https://github.com/Mirjan-Ali-Sha/mas_geospatial_tools/issues</a>
    </li>
    <li><strong>Documentation</strong>: <a
        href="https://github.com/Mirjan-Ali-Sha/mas_geospatial_tools/wiki">https://github.com/Mirjan-Ali-Sha/mas_geospatial_tools/wiki</a>
    </li>
    <li><strong>Email</strong>: <a href="mailto:mastools.help@gmail.com">mastools.help@gmail.com</a></li>
  </ul>
  <h2 id="license">License</h2>
  <p>GPL v2.0 - See LICENSE file</p>



</body>

</html>